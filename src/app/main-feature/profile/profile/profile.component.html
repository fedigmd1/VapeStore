<div class="breadcrumb-section">
  <div class="container">
    <div fxLayout="row" fxLayoutAlign="space-between start" class="">
      <div class="breadcrumb-title  pr-15" fxFlex="100" fxFlex.gt-md="45" fxFlex.md="45">
        <div class="page-title">
          <h4>My account</h4>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="content-wrapper container mt-4 mb-4">
  <section class="content">
    <div class="container-fluid">
      <div>
        <div>
          <!-- Profile Image -->
          <div class="card card-info card-outline">
            <div class="card-body box-profile d-flex justify-content-center align-items-center flex-column ">
              <div class="position-relative">
                <img class="profile-user-img img-fluid img-circle " [src]="userPicture"
                  onerror="this.src='../../../../assets/images/user-photo.jpg'" alt="User profile picture">
                <span class="update-picture-btn d-flex justify-content-center align-items-center" (click)="openFile()"
                  data-toggle="tooltip" data-placement="top" title="Update picture">
                  <mat-icon class="d-flex justify-content-center align-items-center">camera_alt
                  </mat-icon>
                </span>
              </div>
              <h4 class="profile-username text-center mt-3">{{userDetails.first_name | titlecase}}
                {{userDetails.last_name | titlecase}}</h4>
            </div>
          </div>
        </div>
        <div>
          <div class="card">
            <div class="card-header p-2">
              <div class="d-flex justify-content-between">
                <h4>{{showUpdateForm ? 'Settings':'Personal informations'}}</h4>
                <mat-icon class="cursor-pointer" data-toggle="tooltip" data-placement="top" title="Settings"
                  (click)="showForm()">create</mat-icon>
              </div>
            </div><!-- /.card-header -->
            <div class="card-body" [ngClass]="{'p-5':showUpdateForm}">
              <div *ngIf="!showUpdateForm">
                <strong class="d-flex  align-items-center mb-1">
                  <mat-icon>person</mat-icon><span>Username</span>
                </strong>
                <p class="text-muted">
                  {{userDetails.first_name | titlecase}} {{userDetails.last_name | titlecase}}
                </p>
                <hr>
                <strong class="d-flex  align-items-center mb-1">
                  <mat-icon>mail</mat-icon><span>Email</span>
                </strong>
                <p class="text-muted">
                  {{userDetails.email}}
                </p>
                <hr>
                <strong class="d-flex  align-items-center mb-1">
                  <mat-icon>https</mat-icon><span>Password</span>
                </strong>
                <p class="text-muted">
                  ***********
                </p>
                <div *ngIf="userDetails.role == 'store'">
                  <hr>
                  <strong class="d-flex  align-items-center mb-1">
                    <mat-icon>home</mat-icon><span>Address</span>
                  </strong>
                  <p class="text-muted">{{userDetails.address | titlecase}}</p>
                  <hr>
                  <strong class="d-flex  align-items-center mb-1">
                    <mat-icon> phone</mat-icon><span>Phone</span>
                  </strong>
                  <p class="text-muted">{{userDetails.phone}}
                  </p>
                </div>
              </div>
              <div class="tab-pane container" *ngIf="showUpdateForm" id="settings">
                <form class="form-horizontal" [formGroup]="updateProfileForm" (ngSubmit)="upadateProfile()">
                  <div class="form-group row mb-3">
                    <div class="col-lg-6 col-md-12">
                      <label for="inputName" class="col-sm-12 col-form-label">Firstname</label>
                      <div>
                        <input type="email" class="form-control" id="inputName" formControlName="firstName"
                          [class.is-invalid]="firstName.invalid && firstName.touched"
                          [ngClass]="{'error-form-control' : firstName.invalid && firstName.touched}">
                        <div *ngIf="firstName.invalid && firstName.touched" class="text-danger text-left">
                          <small *ngIf="firstName.errors?.required">Firstname is required*</small>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                      <label for="inputName" class="col-sm-12 col-form-label">Lastname</label>
                      <div>
                        <input type="email" class="form-control" formControlName="lastName" id="inputName"
                          [class.is-invalid]="lastName.invalid && lastName.touched"
                          [ngClass]="{'error-form-control' : lastName.invalid && lastName.touched}">
                        <div *ngIf="lastName.invalid && lastName.touched" class="text-danger text-left">
                          <small *ngIf="lastName.errors?.required">Lastname is required*</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group  row mb-3">
                    <div class="col-lg-12 col-md-12">
                      <label for="inputEmail" class="col-sm-12 col-form-label">Email</label>
                      <div>
                        <input type="email" class="form-control" id="inputEmail" formControlName="email"
                          [class.is-invalid]="email.invalid && email.touched"
                          [ngClass]="{'error-form-control' : email.invalid && email.touched}">
                        <div *ngIf="email.invalid && email.touched" class="text-danger text-left">
                          <small *ngIf="email.errors?.required">Email is required*</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group  row mb-3">
                    <div class="col-lg-6 col-md-12">
                      <label for="inputName" class="col-sm-12 col-form-label">Password</label>
                      <div>
                        <input type="password" class="form-control" id="inputName" formControlName="password"
                          [class.is-invalid]="password.invalid && password.touched"
                          [ngClass]="{'error-form-control' : password.invalid && password.touched}">
                        <div *ngIf="password.invalid && password.touched" class="text-danger text-left">
                          <small *ngIf="password.errors?.required">Password is required*</small>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                      <label for="inputName" class="col-sm-4 col-form-label">Confirm password</label>
                      <div>
                        <input type="password" class="form-control" id="inputName" formControlName="confirmPassword"
                          [class.is-invalid]="confirmPassword.invalid && confirmPassword.touched"
                          [ngClass]="{'error-form-control' : confirmPassword.invalid && confirmPassword.touched}">
                        <div *ngIf="confirmPassword.invalid && confirmPassword.touched" class="text-danger text-left">
                          <small *ngIf="confirmPassword.errors?.required">Confirm password is required*</small>
                        </div>
                        <div class="text-danger text-left">
                          <small *ngIf="validatepasswords">Passwords must match</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="userDetails.role == 'store'" class="form-group  row mb-3">
                    <div class="col-lg-6 col-md-12">
                      <label for="inputName" class="col-sm-12 col-form-label">Address</label>
                      <div>
                        <input type="email" class="form-control" id="inputName" formControlName="address"
                          [class.is-invalid]="address.invalid && address.touched"
                          [ngClass]="{'error-form-control' : address.invalid && address.touched}">
                        <div *ngIf="address.invalid && address.touched" class="text-danger text-left">
                          <small *ngIf="address.errors?.required">Address is required*</small>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                      <label for="inputName" class="col-sm-12 col-form-label">Phone</label>
                      <div>
                        <input type="email" class="form-control" id="inputName" formControlName="phone"
                          [class.is-invalid]="phone.invalid && phone.touched"
                          [ngClass]="{'error-form-control' : phone.invalid && phone.touched}">
                        <div *ngIf="Phone.invalid && Phone.touched" class="text-danger text-left">
                          <small *ngIf="Phone.errors?.required">Phone is required*</small>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-group row mt-4 mb-3">
                    <div class="text-center">
                      <button type="submit" class="btn btn-danger w-100">Submit</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<input #inputFile (change)="fileChangeEvent($event)" class="form-control disableInput border-primary-13 "
  accept="image/*" class="hideInput" type="file" />